{"ast":null,"code":"var _jsxFileName = \"/home/lazarus/projects/react/lights-out-lite/src/board.js\";\nimport React, { Component } from 'react';\nimport Cell from './cell';\nimport './board.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Board extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasWon: false,\n      board: this.createBoard()\n    };\n  }\n\n  createBoard() {\n    let board = [];\n\n    for (let y = 0; y < this.props.ncols; y++) {\n      let rows = [];\n\n      for (let x = 0; x < this.props.nrows; x++) {\n        rows.push(Math.random() > this.props.chanceLightStartsOn ? true : false);\n      }\n\n      board.push(rows);\n    }\n\n    return board;\n  }\n\n  flipCellsAround(coord) {\n    let {\n      ncols,\n      nrows\n    } = this.props;\n    let board = this.state.board;\n    let [y, x] = coord.split(\"-\").map(Number);\n\n    function flipCell(y, x) {\n      // if this coord is actually on board, flip it\n      if (x >= 0 && x < ncols && y >= 0 && y < nrows) {\n        board[y][x] = !board[y][x];\n      }\n    }\n\n    flipCell(y, x);\n    flipCell(y + 1, x);\n    flipCell(y - 1, x);\n    flipCell(y, x + 1);\n    flipCell(y, x - 1);\n    let hasWon = this.state.board.every(row => row.every(cell => cell === false));\n    this.setState({\n      hasWon,\n      board\n    });\n  }\n\n  render() {\n    // if the game is won, just show a winning msg & render nothing else\n    if (this.state.hasWon) {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"You Won\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 6\n      }, this);\n    } // TODO\n\n\n    let tBoard = [];\n\n    for (let i = 0; i < this.props.nrows; i++) {\n      let rows = [];\n\n      for (let j = 0; j < this.props.ncols; j++) {\n        rows.push( /*#__PURE__*/_jsxDEV(Cell, {\n          isLit: this.state.board[i][j],\n          flipCellsAroundMe: () => {\n            this.flipCellsAround(`${i}-${j}`);\n          }\n        }, `${i}-${j}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 16\n        }, this));\n      }\n\n      tBoard.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: rows\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 16\n      }, this));\n    } // make table board\n\n\n    return /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"Board\",\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: tBoard\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 4\n    }, this);\n  }\n\n}\nBoard.defaultProps = {\n  ncols: 5,\n  nrows: 5,\n  chanceLightStartsOn: 0.25\n};","map":{"version":3,"names":["React","Component","Cell","Board","constructor","props","state","hasWon","board","createBoard","y","ncols","rows","x","nrows","push","Math","random","chanceLightStartsOn","flipCellsAround","coord","split","map","Number","flipCell","every","row","cell","setState","render","tBoard","i","j","defaultProps"],"sources":["/home/lazarus/projects/react/lights-out-lite/src/board.js"],"sourcesContent":["import React, { Component } from 'react'\nimport Cell from './cell'\nimport './board.css'\n\nexport default class Board extends Component {\n    static defaultProps = \n    {\n        ncols: 5,\n        nrows: 5, \n        chanceLightStartsOn: 0.25\n    }\n    constructor(props) \n    {\n      super(props)\n    \n      this.state = {\n         hasWon : false,\n         board : this.createBoard(),\n      }\n    }\n\n\n    createBoard()\n    {\n        let board = []\n        for (let y = 0; y < this.props.ncols; y++) {\n            let rows = []\n            for (let x = 0; x < this.props.nrows; x++) {\n                rows.push(Math.random() > this.props.chanceLightStartsOn?true:false)\n                \n            }\n            board.push(rows)\n        }\n        return board\n    }\n\n\n    flipCellsAround(coord) \n    {\n        let {ncols, nrows} = this.props;\n        let board = this.state.board;\n        let [y, x] = coord.split(\"-\").map(Number);\n\n\n  function flipCell(y, x) \n  {\n    // if this coord is actually on board, flip it\n\n    if (x >= 0 && x < ncols && y >= 0 && y < nrows) {\n      board[y][x] = !board[y][x];\n    }\n  }\n  flipCell(y,x)\n  flipCell(y+1,x)\n  flipCell(y-1,x)\n  flipCell(y,x+1)\n  flipCell(y,x-1)\n\n\n  let hasWon = this.state.board.every((row)=>row.every((cell) => cell=== false))\n  this.setState({\n    hasWon,board\n  })\n\n}\nrender() {\n\n // if the game is won, just show a winning msg & render nothing else\n if(this.state.hasWon) \n {\n   return(\n     <h1>You Won</h1>\n   )\n }\n\n // TODO\n\n let tBoard = []\n for (let i = 0; i < this.props.nrows; i++) {\n   let rows = [];\n   for (let j = 0; j < this.props.ncols; j++) {\n     rows.push(<Cell key={`${i}-${j}`} isLit = {this.state.board[i][j]} flipCellsAroundMe = {()=>{this.flipCellsAround(`${i}-${j}`)}} />)\n   }\n   tBoard.push(<tr>{rows}</tr>) \n }\n\n // make table board\n return(\n   <table className=\"Board\">\n     <tbody>\n       {tBoard}\n     </tbody>\n   </table>\n   )\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}