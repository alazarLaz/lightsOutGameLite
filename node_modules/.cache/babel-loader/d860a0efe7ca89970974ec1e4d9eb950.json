{"ast":null,"code":"import _slicedToArray from\"/home/lazarus/projects/react/lights-out-lite/lightsOutGameLite/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _classCallCheck from\"/home/lazarus/projects/react/lights-out-lite/lightsOutGameLite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/lazarus/projects/react/lights-out-lite/lightsOutGameLite/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/lazarus/projects/react/lights-out-lite/lightsOutGameLite/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/lazarus/projects/react/lights-out-lite/lightsOutGameLite/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import Cell from'./cell';import'./board.css';import{jsx as _jsx}from\"react/jsx-runtime\";var Board=/*#__PURE__*/function(_Component){_inherits(Board,_Component);var _super=_createSuper(Board);function Board(props){var _this;_classCallCheck(this,Board);_this=_super.call(this,props);_this.state={hasWon:false,board:_this.createBoard()};return _this;}_createClass(Board,[{key:\"createBoard\",value:function createBoard(){var board=[];for(var y=0;y<this.props.ncols;y++){var rows=[];for(var x=0;x<this.props.nrows;x++){rows.push(Math.random()>this.props.chanceLightStartsOn?true:false);}board.push(rows);}return board;}},{key:\"flipCellsAround\",value:function flipCellsAround(coord){var _this$props=this.props,ncols=_this$props.ncols,nrows=_this$props.nrows;var board=this.state.board;var _coord$split$map=coord.split(\"-\").map(Number),_coord$split$map2=_slicedToArray(_coord$split$map,2),y=_coord$split$map2[0],x=_coord$split$map2[1];function flipCell(y,x){// if this coord is actually on board, flip it\nif(x>=0&&x<ncols&&y>=0&&y<nrows){board[y][x]=!board[y][x];}}flipCell(y,x);flipCell(y+1,x);flipCell(y-1,x);flipCell(y,x+1);flipCell(y,x-1);var hasWon=this.state.board.every(function(row){return row.every(function(cell){return cell===false;});});this.setState({hasWon:hasWon,board:board});}},{key:\"render\",value:function render(){var _this2=this;// if the game is won, just show a winning msg & render nothing else\nif(this.state.hasWon){return/*#__PURE__*/_jsx(\"h1\",{children:\"You Won\"});}// TODO\nvar tBoard=[];var _loop=function _loop(i){var rows=[];var _loop2=function _loop2(j){rows.push(/*#__PURE__*/_jsx(Cell,{isLit:_this2.state.board[i][j],flipCellsAroundMe:function flipCellsAroundMe(){_this2.flipCellsAround(\"\".concat(i,\"-\").concat(j));}},\"\".concat(i,\"-\").concat(j)));};for(var j=0;j<_this2.props.ncols;j++){_loop2(j);}tBoard.push(/*#__PURE__*/_jsx(\"tr\",{children:rows}));};for(var i=0;i<this.props.nrows;i++){_loop(i);}// make table board\nreturn/*#__PURE__*/_jsx(\"table\",{className:\"Board\",children:/*#__PURE__*/_jsx(\"tbody\",{children:tBoard})});}}]);return Board;}(Component);Board.defaultProps={ncols:5,nrows:5,chanceLightStartsOn:0.25};export{Board as default};","map":{"version":3,"names":["React","Component","Cell","Board","props","state","hasWon","board","createBoard","y","ncols","rows","x","nrows","push","Math","random","chanceLightStartsOn","coord","split","map","Number","flipCell","every","row","cell","setState","tBoard","i","j","flipCellsAround","defaultProps"],"sources":["/home/lazarus/projects/react/lights-out-lite/lightsOutGameLite/src/board.js"],"sourcesContent":["import React, { Component } from 'react'\nimport Cell from './cell'\nimport './board.css'\n\nexport default class Board extends Component {\n    static defaultProps = \n    {\n        ncols: 5,\n        nrows: 5, \n        chanceLightStartsOn: 0.25\n    }\n    constructor(props) \n    {\n      super(props)\n    \n      this.state = {\n         hasWon : false,\n         board : this.createBoard(),\n      }\n    }\n\n\n    createBoard()\n    {\n        let board = []\n        for (let y = 0; y < this.props.ncols; y++) {\n            let rows = []\n            for (let x = 0; x < this.props.nrows; x++) {\n                rows.push(Math.random() > this.props.chanceLightStartsOn?true:false)\n                \n            }\n            board.push(rows)\n        }\n        return board\n    }\n\n\n    flipCellsAround(coord) \n    {\n        let {ncols, nrows} = this.props;\n        let board = this.state.board;\n        let [y, x] = coord.split(\"-\").map(Number);\n\n\n  function flipCell(y, x) \n  {\n    // if this coord is actually on board, flip it\n\n    if (x >= 0 && x < ncols && y >= 0 && y < nrows) {\n      board[y][x] = !board[y][x];\n    }\n  }\n  flipCell(y,x)\n  flipCell(y+1,x)\n  flipCell(y-1,x)\n  flipCell(y,x+1)\n  flipCell(y,x-1)\n\n\n  let hasWon = this.state.board.every((row)=>row.every((cell) => cell=== false))\n  this.setState({\n    hasWon,board\n  })\n\n}\nrender() {\n\n // if the game is won, just show a winning msg & render nothing else\n if(this.state.hasWon) \n {\n   return(\n     <h1>You Won</h1>\n   )\n }\n\n // TODO\n\n let tBoard = []\n for (let i = 0; i < this.props.nrows; i++) {\n   let rows = [];\n   for (let j = 0; j < this.props.ncols; j++) {\n     rows.push(<Cell key={`${i}-${j}`} isLit = {this.state.board[i][j]} flipCellsAroundMe = {()=>{this.flipCellsAround(`${i}-${j}`)}} />)\n   }\n   tBoard.push(<tr>{rows}</tr>) \n }\n\n // make table board\n return(\n   <table className=\"Board\">\n     <tbody>\n       {tBoard}\n     </tbody>\n   </table>\n   )\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}